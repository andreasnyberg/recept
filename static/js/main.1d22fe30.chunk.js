(this.webpackJsonprecipes=this.webpackJsonprecipes||[]).push([[0],{56:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a,c,s=n(11),i=n(2),r=n.n(i),o=n(45),l=n.n(o),j=n(12),b=n(5),u=(n(56),n(9)),d=n(29),p=n(81),h=n(83),O="auth-token",m=n(1),g=Object(p.a)(a||(a=Object(d.a)(["\n  mutation LoginMutation(\n    $email: String!\n    $password: String!\n  ) {\n    login(email: $email, password: $password) {\n      token\n    }\n  }\n"]))),x=function(){var e=Object(i.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(""),s=Object(u.a)(c,2),r=s[0],o=s[1],l=Object(i.useState)(""),b=Object(u.a)(l,2),d=b[0],p=b[1],x=localStorage.getItem(O),v=Object(h.a)(g,{variables:{email:r,password:d},onCompleted:function(e){var t=e.login;localStorage.setItem(O,t.token),window.location.reload()}}),f=Object(u.a)(v,1)[0];return Object(m.jsxs)("header",{className:"header",children:[x&&Object(m.jsxs)(j.c,{to:"/add-new",className:"button border-button",children:["Nytt recept",Object(m.jsx)("span",{children:"\u2795"})]}),x?Object(m.jsx)("button",{onClick:function(){localStorage.removeItem(O),window.location.reload()},className:"button border-button",children:"Logga ut"}):Object(m.jsx)("button",{onClick:function(){return a(!0)},className:"button border-button",children:"Logga in"}),n&&Object(m.jsx)("div",{className:"login-window",children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f()},children:[Object(m.jsx)("input",{type:"text",value:r,onChange:function(e){o(e.target.value)},placeholder:"E-post",className:"recipe-input"}),Object(m.jsx)("input",{type:"password",value:d,onChange:function(e){p(e.target.value)},placeholder:"L\xf6senord",className:"recipe-input"}),Object(m.jsx)("input",{type:"submit",value:"Logga in",className:"button border-button"})]})})]})},v=n(33),f=Object(p.a)(c||(c=Object(d.a)(["\n  mutation CreateRecipeMutation($input: RecipeInput) {\n    createRecipe(input: $input) {\n      pathTitle\n    }\n  }\n"]))),k=function(){var e=Object(i.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(!1),r=Object(u.a)(c,2),o=r[0],l=r[1],j=Object(i.useState)({val:["",""]}),d=Object(u.a)(j,2),p=d[0],g=d[1],x=Object(i.useState)([]),k=Object(u.a)(x,2),N=k[0],S=(k[1],Object(i.useState)({title:"",source:"",noOfPortions:"",ingredients:""})),w=Object(u.a)(S,2),y=w[0],C=w[1],L=localStorage.getItem(O),P=Object(h.a)(f,{variables:{input:{title:y.title,source:y.source,noOfPortions:y.noOfPortions,categories:N,ingredients:y.ingredients.split("\n").filter((function(e){return e})),steps:p.val}},onError:function(e){console.log(e)},onCompleted:function(e){var t=e.createRecipe;a(t.pathTitle),l(!0)}}),I=Object(u.a)(P,1)[0];return L?o?Object(m.jsx)(b.a,{to:"/recept/".concat(n)}):Object(m.jsxs)("div",{className:"add-new-container",children:[Object(m.jsx)("h2",{children:"L\xe4gg till nytt recept"}),Object(m.jsx)("input",{className:"recipe-input recipe-input--big",value:y.title,onChange:function(e){return C(Object(s.a)(Object(s.a)({},y),{},{title:e.target.value}))},type:"text",placeholder:"Titel"}),Object(m.jsxs)("div",{className:"source-and-portions-container",children:[Object(m.jsx)("input",{className:"recipe-input recipe-input--small",value:y.source,onChange:function(e){return C(Object(s.a)(Object(s.a)({},y),{},{source:e.target.value}))},type:"text",placeholder:"L\xe4nk till original"}),Object(m.jsx)("input",{className:"recipe-input recipe-input--small",value:y.noOfPortions,onChange:function(e){return C(Object(s.a)(Object(s.a)({},y),{},{noOfPortions:e.target.value}))},type:"number",placeholder:"Antal portioner"})]}),Object(m.jsxs)("div",{className:"textarea-container",children:[Object(m.jsx)("div",{className:"ingredients-container",children:Object(m.jsx)("textarea",{className:"recipe-input",value:y.ingredients,onChange:function(e){return C(Object(s.a)(Object(s.a)({},y),{},{ingredients:e.target.value}))},placeholder:"Ingredienser"})}),Object(m.jsxs)("div",{className:"steps-container",children:[p.val.map((function(e,t){return Object(m.jsx)("textarea",{autoFocus:t>1,className:"recipe-input",value:e||"",onChange:function(e){return function(e,t){var n=Object(v.a)(p.val);n[t]=e.target.value,g({val:n})}(e,t)},placeholder:"Steg ".concat(t+1)},t)})),Object(m.jsxs)("button",{className:"button border-button border-button--medium add-step-button",type:"button",onClick:function(){g({val:[].concat(Object(v.a)(p.val),[""])})},children:["L\xe4gg till steg ",Object(m.jsx)("span",{children:"\u2795"})]})]})]}),Object(m.jsxs)("button",{className:"button border-button border-button--big post-button",type:"button",onClick:function(){I()},children:["Klar! ",Object(m.jsx)("span",{children:"\u2714\ufe0f"})]})]}):Object(m.jsx)(b.a,{to:"/"})},N=function(e){return Object(m.jsxs)("div",{className:"error-page",children:[e.children,Object(m.jsx)(j.c,{to:"/",className:"button floating-button floating-button--link",children:"Ta mig till startsidan \ud83d\ude80"})]})},S=[{id:1,title:"Vegobolle",path:"vegobolle",noOfPortions:6,source:"",ingredients:["1 l\xf6k","6 vitl\xf6ksklyftor","2 chili (om man vill ha lite stark)","4-5msk tomatpure","1/2 p\xe5se Formbar f\xe4rs (~400g)","mycket olivolja","1 msk soja","parmesan","f\xe4rsk basilika","pasta"],steps:["Stek finhackad l\xf6k & vitl\xf6k i asmycket olivolja tills den mjuknar. H\xe4ll p\xe5 tomatpur\xe9 och stek mer. Addera paprikapulver om man har. Ta bort allt.","Koka pasta.","Brassa formbar f\xe4rs och stek ensamt. Sen addera geggan. H\xe4ll p\xe5 mer olivolja & soja."]},{id:2,title:"Vegetarisk lasagne",path:"vegetarisk-lasagne",noOfPortions:6,source:"https://www.coop.se/recept/vegetarisk-lasagne-med-soltorkade-tomater/",ingredients:["16 torkade lasagneplattor","2-3 gul l\xf6k, hackad","4 vitl\xf6ksklyftor","2 msk olivolja","800 g f\xe4rsk spenat","1 tsk svartpeppar","2 burkar soltorkade tomater (a 285g)","300 g ch\xe8vre eller fetaost","6 dl cr\xe8me fraiche","4 dl vatten","4 dl riven ost","Till servering:","rucola","k\xf6rsb\xe4rstomater","smulad ch\xe8vre/feta"],steps:["Hacka l\xf6k, skiva vitl\xf6k.","Fr\xe4s l\xf6ken mjuk i olja i en stekpanna. Tills\xe4tt skivad vitl\xf6k och spenat. Stek under omr\xf6rning tills spenaten sjunkit ihop. Salta och peppra.","H\xe4ll bort oljan fr\xe5n soltorkade tomaterna och finhacka dem. Riv ner ch\xe8vren i en sk\xe5l och r\xf6r ihop med cr\xe8me fraiche, vatten och soltorkade tomater.","Varva pastaplattorna med spenat och ostr\xf6ra i en passande ugnsform. Str\xf6 \xf6ver riven ost och gr\xe4dda mitt i ugnen enligt anvisning p\xe5 lasagnef\xf6rpackningen ca 35 min.","Servera lasagnen med rucola och tomat, ev toppad med smulad ch\xe8vre."]}],w=function(){var e=Object(i.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(b.h)().path,s=S.find((function(e){return e.path===c}));if(!s)return Object(m.jsxs)(N,{children:[Object(m.jsx)("h1",{children:"Ajd\xe5! \ud83d\ude15"}),Object(m.jsx)("h3",{children:"Receptet kan ej hittas..."})]});return Object(m.jsxs)("div",{className:"recipe ".concat(n?"bigfont-mode":""),children:[Object(m.jsx)("h1",{children:s.title}),(s.noOfPortions||s.source)&&Object(m.jsxs)("div",{className:"recipe-meta",children:[s.noOfPortions&&Object(m.jsxs)("p",{children:[s.noOfPortions," portioner"]}),s.noOfPortions&&s.source&&Object(m.jsx)("span",{className:"recipe-meta-separator",children:"|"}),s.source&&Object(m.jsx)("a",{href:s.source,children:"L\xe4nk till original"})]}),Object(m.jsxs)("div",{className:"recipe-sections",children:[Object(m.jsxs)("div",{className:"recipe-ingredients",children:[Object(m.jsx)("h2",{children:"Ingredienser"}),Object(m.jsx)("ul",{children:s.ingredients.map((function(e){return Object(m.jsx)("li",{children:e},e)}))})]}),Object(m.jsxs)("div",{className:"recipe-steps",children:[Object(m.jsx)("h2",{children:"Tillagning"}),Object(m.jsx)("ul",{children:s.steps.map((function(e,t){return Object(m.jsxs)("li",{className:"step-row",children:[Object(m.jsx)("input",{className:"checkbox",id:"recipe-step-checkbox-".concat(t),type:"checkbox",value:"value1"}),Object(m.jsx)("label",{htmlFor:"recipe-step-checkbox-".concat(t),children:e})]},e)}))})]})]}),Object(m.jsx)("button",{onClick:function(){a(!n)},className:"button toggle-bigfont-mode floating-button floating-button--round"})]})},y=n(49),C=n.n(y),L=function(){var e="grid",t="list",n=Object(i.useState)(!0),a=Object(u.a)(n,2),c=a[0],s=a[1],r=Object(i.useState)(t),o=Object(u.a)(r,2),l=o[0],b=o[1],d=function(e){},p=Object(i.useMemo)((function(){return C.a.debounce(d,300)}),[]);return Object(m.jsxs)("div",{className:"home",children:[Object(m.jsxs)("div",{className:"list-tools",children:[Object(m.jsx)("div",{className:"list-tools-col--wide",children:Object(m.jsx)("span",{className:"search-icon",children:Object(m.jsx)("input",{type:"text",className:"recipe-input search-input",onChange:p})})}),Object(m.jsx)("div",{className:"list-tools-col",children:Object(m.jsx)("button",{className:"button floating-button list-tool-button list-tool-button--order",onClick:function(){s(!c)},children:Object(m.jsx)("span",{className:"icon ".concat(c?"isAsc":"")})})}),Object(m.jsx)("div",{className:"list-tools-col",children:Object(m.jsx)("button",{className:"button floating-button list-tool-button list-tool-button--list-style",onClick:function(){b(l===e?t:e)},children:Object(m.jsx)("span",{className:"icon ".concat(l===e?"isGrid":"")})})})]}),Object(m.jsx)("ul",{className:"recipe-list ".concat(l),children:S&&Object(m.jsx)(m.Fragment,{children:S.map((function(e){return Object(m.jsx)("li",{className:"recipe-list-item",children:Object(m.jsx)(j.c,{to:"/".concat(e.path),className:"button recipe-link floating-button",children:Object(m.jsx)("h2",{children:e.title})})},e.id)}))})})]})},P=function(e){return function(t){var n=Object(b.g)(),a=Object(i.useCallback)((function(e){27===e.keyCode&&n.push("/")}),[n]);return Object(i.useEffect)((function(){return document.addEventListener("keydown",a),function(){document.removeEventListener("keydown",a)}})),Object(m.jsx)("div",{className:"dialog-outer",children:Object(m.jsx)("div",{className:"dialog",children:Object(m.jsxs)("div",{className:"dialog-inner",children:[Object(m.jsx)(j.c,{to:"/",className:"button dialog-close-button floating-button floating-button--round"}),Object(m.jsx)(e,Object(s.a)({},t))]})})})}};var I=function(e){var t=P(w),n=P(k);return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(j.a,{children:Object(m.jsx)(j.b,{basename:"/",children:Object(m.jsxs)(b.d,{children:[Object(m.jsxs)(b.b,{exact:!0,path:"/",children:[Object(m.jsx)(x,{}),Object(m.jsx)(L,{})]}),Object(m.jsx)(b.b,{path:"/:path",children:Object(m.jsx)(t,{})}),Object(m.jsx)(b.b,{path:"/add-new",children:Object(m.jsx)(n,{})}),Object(m.jsx)(b.b,{path:"*",children:Object(m.jsxs)(N,{children:[Object(m.jsx)("h1",{children:"Ooops.."}),Object(m.jsx)("h3",{children:"Denna sida verkar inte existera \ud83d\ude15"})]})})]})})})})},T=n(51),E=n(80),R=n(82),$=n(79),A=n(50),F=Object(T.a)({uri:"/graphql"}),H=Object(A.a)((function(e,t){var n=t.headers,a=localStorage.getItem(O);return{headers:Object(s.a)(Object(s.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),M=new E.a({link:H.concat(F),cache:new R.a});l.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)($.a,{client:M,children:Object(m.jsx)(I,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.1d22fe30.chunk.js.map